---
title: "데이터베이스 시스템"
excerpt: "데이터베이스 구조/ 사용자, 데이터 언어, 관리 시스템 정의/ 구성"

categories:
    - 데이터베이스
tags:
    - [데이터베이스]

toc: true
toc_sticky: true

comments:
  provider: "utterances"
  utterances:
    theme: "github-light" # "github-dark"
    issue_term: "pathname"
    label: "comment" # Optional - must be existing label.

date: 2023-02-17
last_modified_at: 2023-02-17
---
# 데이터베이스 시스템의 정의 
데이터베이스 시스템(DBS)은 데이터베이스에 데이터를 저장하고, 이를 관리하여 조직에 필요한 정보를 생성해주는 시스템이다.  

# 데이터베이스의 구조

## 스키마와 인스턴스
- 스키마(schema)  
데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것  
- 인스턴스(instance)  
스키마에 따라 데이터베이스에 실제로 저장된 값  

## 3단계 데이터베이스 구조
데이터베이스를 쉽게 이해하고 이용할 수 있도록 하나의 데이터베이스를 관점에 따라 세 단계로 나눈 것이다.  
내부 -> 개념 -> 외부로 갈수록 추상적이다.  

### 외부 단계(external level)  
데이터베이스를 개별 사용자 관점에서 이해하고 표현하는 단계를 말한다. 데이터베이스 하나에 외부 스키마가 여러 개 존재할 수 있다.  
외부 스키마는 외부 단계에서 사용자에게 필요한 데이터베이스를 정의한 것이다. 각 사용자가 생각하는 데이터베이스의 모습, 즉 논리적 구조로 사용자마다 다르다.  

|(상품 배송팀의)외부 스키마|
|-|
|고객번호 INT|고객이름 CHAR(10)|주소 CHAR(20)|연락처 CHAR(20)|  

|(고객 분석팀의)외부 스키마|
|-|
|성별 char(2)|나이 INT|직업 CHAR(10)|

### 개념 단계(conceptual level)  
데이터베이스를 조직 전체의 관점에서 이해하고 표현하는 단계다. 데이터베이스 하나에 개념 스키마가 하나만 존재한다.  
개념 스키마는 개념 단계에서 데이터베이스 전체의 논리적 구조를 정의한 것이다. 조직 전체의 관점에서 생각하는 데이터베이스의 모습이다.  

|개념 스키마|
|-|
|번호 INT |이름 CHAR(10)|성별 CHAR(2)|나이 INT|직업 CHAR(10)|주소 CHAR(20)|연락처 CHAR(20)|

### 내부 단계(internal level)  
데이터베이스를 저장 장치의 관점에서 이해하고 표현하는 단계다. 데이터베이스 하나에 내부 스키마가 하나만 존재한다.  
내부 스키마는 전체 데이터베이스가 저장 장치에 실제로 저장되는 방법을 정의한 것이다.  

|내부 스키마|
|-|
|필드 이름|필드 크기|OFFSET|
|-|
|번호|4바이트|0|
|이름|10바이트|4|
|성별|2바이트|14|
|나이|4바이트|16|
|직업|10바이트|20|
|주소|20바이트|30|
|연락처|20바이트|50|

### 스키마 사이의 대응 관계
- 외부/개념 사상  
외부 스키마와 개념 스키마의 대응 관계. 응용 인터페이스라고도 한다.  
- 개념/내부 사상  
개념 스키마와 내부 스키마의 대응 관계. 저장 인터페이스라고도 한다.  

데이터베이스를 3단계 구조로 나누고 단계별로 스키마를 유지하며 스키마 사이의 대응 관계를 정의하는 궁극적인 목적은 데이터 독립성의 실현이다.  

### 데이터 독립성(data independency)
데이터 독립성은 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성이다.  
- 논리적 데이터 독립성  
개념 스키마가 변경되어도 외부 스키마는 영향을 받지 않는다. 개념 스키마가 변경되면 관련된 외부/개념 사상만 정확하게 수정해주면 된다.  
- 물리적 데이터 독립성  
내부 스키마가 변경되어도 개념 스키마는 영향을 받지 않는다. 내부 스키마가 변경되면 관련된 개념/내부 사상만 정확하게 수정해주면 된다.  

## 데이터 사전(data dictionary)
시스템 카탈로그라고도 한다. 데이터베이스에 저장되는 데이터에 관한 정보, 즉 메타 데이터 -데이터에 대한 데이터-를 유지하는 시스템 데이터베이스다. 스키마, 사상 정보, 다양한 제약조건 등을 저장하며 데이터베이스 관리 시스템이 스스로 생성하고 유지한다. 일반 사용자도 접근이 가능하지만 저장된 내용을 검색만 할 수 있다.  

## 데이터 디렉토리(data directory)
데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보를 저장하는 시스템 데이터베이스를 말한다. 일반 사용자의 접근은 허용되지 않는다.  

## 사용자 데이터베이스(user database)
사용자가 실제로 이용하는 데이터가 저장되어 있는 일반 데이터베이스를 말한다.  

## 데이터베이스 사용자
데이터베이스를 이용하기 위해 접근하는 모든 사람을 말하며 크게 3가지로 구분된다. 이용 목적에 따라 데이터베이스 관리자(DBS를 운영/관리, 데이터 정의어/제어어 사용), 최종 사용자(데이터 CRUD조작, 데이터 조작어 사용), 응용 프로그래머(데이터 언어로 응용 프로그램 작성, 데이터 조작어 사용)로 구분한다.  

# 데이터 언어
사용자와 데이터베이스 관리 시스템 간의 통신 수단이다. 사용 목적에 따라 3가지로 구분된다.  
- 데이터 정의어(DDL - Data Definition Language)  
스키마를 정의하거나, 수정 또는 삭제하기 위해 사용  
- 데이터 조작어(DML - Data Manipulation Language)  
데이터의 CRUD등의 처리를 요구하기 위해 사용  
  - 절차적 데이터 조작어  
사용자가 어떤 데이터를 원하고 그 데이터를 얻기 위해 어떻게 처리해야 하는지도 설명  
  - 비절차적 데이터 조작어  
사용자가 어떤 데이터를 원하는 지만 설명  
선언적 언어(declarative language)라고도 하며 SQL이 여기에 해당한다.  
- 데이터 제어어(DCL - Data Control Language)  
내부적으로 필요한 규칙이나 기법을 정의하기 위해서 사용  
  - 사용 목적  
    - 무결성  
    정확하고 유효한 데이터만 유지
    - 보안  
    허가받지 않은 사용자의 데이터 접근 차단, 허가된 사용자에 권한 부여  
    - 회복  
    장애가 발생해도 데이터 일관성 유지  
    - 동시성 제어  
    동시 공유 지원  

# 데이터베이스 관리 시스템의 구성
- 질의 처리기(query processor)  
사용자의 데이터 처리 요구를 해석하여 처리한다.  

- 저장 데이터 관리자(stored data manager)  
디스크에 저장된 사용자 데이터베이스와 데이터 사전을 관리하고, 여기에 실제로 접근하는 역할을 담당한다.  
